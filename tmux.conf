# ============================================================================
# UI Configuration
# ============================================================================

set -g mouse on
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm*:Tc"
set -g history-limit 256000

# ============================================================================
# Terminal Title
# ============================================================================

set -g set-titles on
set -g set-titles-string "#h ‚ùê #S ‚óè #I #W"

# ============================================================================
# Theme Configuration - PowerKit
# ============================================================================

set -g @plugin 'fabioluciano/tmux-powerkit'

# Status bar modules (similar to current setup)
set -g @powerkit_plugins "session,directory,hostname,datetime"

# Catppuccin Mocha theme with rounded separators
set -g @powerkit_theme "catppuccin"
set -g @powerkit_theme_variant "mocha"
set -g @powerkit_separator_style "rounded"
set -g @powerkit_window_index_style "numeric"

# Icons.
set -g @powerkit_zoomed_window_icon "üîç"
set -g @powerkit_pane_synchronized_icon "Û∞ì¶"

# Flash selected panel.
set -g @powerkit_pane_flash_enabled "true"
set -g @powerkit_pane_flash_color "statusbar-bg"
set -g @powerkit_pane_flash_duration "100"

# ============================================================================
# Key Bindings
# ============================================================================

# Prefix key.
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Vi style keys in copy mode.
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi y send-keys -X copy-selection

# Reload configuration.
bind M-r source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded!"

# Split windows.
bind - split-window -v
bind _ split-window -h

# Window navigation.
bind Tab last-window

# Pane navigation (Alt+arrows).
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Pane synchronization.
bind y setw synchronize-panes

# Toggle status bar.
bind C-s set-option -g status

# ============================================================================
# Quick copy paste.
# ============================================================================

set -g @plugin 'Morantron/tmux-fingers'
set -g @fingers-main-action ":paste:"
set -g @fingers-shift-action ":copy:"
set -g @fingers-keyboard-layout "dvorak"

# ============================================================================
# Plugin Manager
# ============================================================================

run '~/.config/tmux/plugins/tpm/tpm'
